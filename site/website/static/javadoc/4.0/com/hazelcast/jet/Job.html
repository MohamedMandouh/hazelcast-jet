<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11) on Tue Mar 10 11:32:12 CET 2020 -->
<title>Job (hazelcast-jet-distribution 4.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-03-10">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Job (hazelcast-jet-distribution 4.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":18,"i7":6,"i8":18,"i9":6,"i10":6,"i11":18,"i12":6,"i13":6,"i14":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Job.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.hazelcast.jet</a></div>
<h2 title="Interface Job" class="title">Interface Job</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public interface <span class="typeNameLabel">Job</span></pre>
<div class="block">A Jet computation job created by submitting a <a href="core/DAG.html" title="class in com.hazelcast.jet.core"><code>DAG</code></a> or <a href="pipeline/Pipeline.html" title="interface in com.hazelcast.jet.pipeline"><code>Pipeline</code></a>. Once submitted, Jet starts executing the job automatically.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>3.0</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cancel()">cancel</a></span>()</code></th>
<td class="colLast">
<div class="block">Makes a request to cancel this job and returns.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="JobStateSnapshot.html" title="class in com.hazelcast.jet">JobStateSnapshot</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cancelAndExportSnapshot(java.lang.String)">cancelAndExportSnapshot</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Exports and saves a state snapshot with the given name,
 and then cancels the job without processing any more data after the
 barrier (graceful cancellation).</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="JobStateSnapshot.html" title="class in com.hazelcast.jet">JobStateSnapshot</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#exportSnapshot(java.lang.String)">exportSnapshot</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Exports a state snapshot and saves it under the given
 name.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="config/JobConfig.html" title="class in com.hazelcast.jet.config">JobConfig</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getConfig()">getConfig</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the configuration this job was submitted with.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getFuture()">getFuture</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets the future associated with the job.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getId()">getId</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the ID of this job.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>default <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getIdString()">getIdString</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the string representation of this job's ID.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="core/metrics/JobMetrics.html" title="class in com.hazelcast.jet.core.metrics">JobMetrics</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMetrics()">getMetrics</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a snapshot of the current values of all job-specific metrics.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>default <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getName()">getName</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the name of this job or <code>null</code> if no name was supplied.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="core/JobStatus.html" title="enum in com.hazelcast.jet.core">JobStatus</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStatus()">getStatus</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the current status of this job.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSubmissionTime()">getSubmissionTime</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the time when the job was submitted to the cluster.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>default void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#join()">join</a></span>()</code></th>
<td class="colLast">
<div class="block">Waits for the job to complete and throws an exception if the job
 completes with an error.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#restart()">restart</a></span>()</code></th>
<td class="colLast">
<div class="block">Gracefully stops the current execution and schedules a new execution
 with the current member list of the Jet cluster.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resume()">resume</a></span>()</code></th>
<td class="colLast">
<div class="block">Resumes a <a href="#suspend()">suspended</a> job.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#suspend()">suspend</a></span>()</code></th>
<td class="colLast">
<div class="block">Gracefully suspends the current execution of the job.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getId</h4>
<pre class="methodSignature">long&nbsp;getId()</pre>
<div class="block">Returns the ID of this job.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the job has not started yet, and thus has no ID.</dd>
</dl>
</li>
</ul>
<a id="getIdString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIdString</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
default&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getIdString()</pre>
<div class="block">Returns the string representation of this job's ID.</div>
</li>
</ul>
<a id="getConfig()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConfig</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
<a href="config/JobConfig.html" title="class in com.hazelcast.jet.config">JobConfig</a>&nbsp;getConfig()</pre>
<div class="block">Returns the configuration this job was submitted with. Changes made to the
 returned config object will not have any affect.</div>
</li>
</ul>
<a id="getName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nullable</a>
default&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getName()</pre>
<div class="block">Returns the name of this job or <code>null</code> if no name was supplied.
 <p>
 Jobs can be named through <a href="config/JobConfig.html#setName(java.lang.String)"><code>JobConfig.setName(String)</code></a> prior to submission.</div>
</li>
</ul>
<a id="getSubmissionTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSubmissionTime</h4>
<pre class="methodSignature">long&nbsp;getSubmissionTime()</pre>
<div class="block">Returns the time when the job was submitted to the cluster.
 <p>
 The time is assigned by reading <code>System.currentTimeMillis()</code> of
 the master member that executes the job for the first time. It doesn't
 change on restart.</div>
</li>
</ul>
<a id="getStatus()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatus</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
<a href="core/JobStatus.html" title="enum in com.hazelcast.jet.core">JobStatus</a>&nbsp;getStatus()</pre>
<div class="block">Returns the current status of this job.</div>
</li>
</ul>
<a id="getMetrics()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetrics</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
<a href="core/metrics/JobMetrics.html" title="class in com.hazelcast.jet.core.metrics">JobMetrics</a>&nbsp;getMetrics()</pre>
<div class="block">Returns a snapshot of the current values of all job-specific metrics.
 <p>
 While the job is running the metric values are updated periodically
 (see <a href="../config/BaseMetricsConfig.html#setCollectionFrequencySeconds(int)"><code>metrics
 collection interval</code></a>), assuming
 that both <a href="../config/BaseMetricsConfig.html#setEnabled(boolean)"><code>global metrics collection</code></a>
 and <a href="config/JobConfig.html#isMetricsEnabled()"><code>per job metrics collection</code></a>
 are enabled. Otherwise empty metrics will be returned.
 <p>
 Keep in mind that the collections may occur at different times on
 each member, metrics from various members aren't from the same instant.
 <p>
 When a job is restarted (or resumed after being previously suspended)
 the metrics are reset too, their values will reflect only updates
 from the latest execution of the job.
 <p>
 Once a job stops executing (successfully, after a failure, cancellation,
 or temporarily while suspended) the metrics will have their most
 recent values (i.e. the last metric values from the moment before the
 job completed), assuming that
 <a href="config/JobConfig.html#setStoreMetricsAfterJobCompletion(boolean)"><code>metrics
 storage</code></a> was enabled. Otherwise empty metrics will be returned.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>3.2</dd>
</dl>
</li>
</ul>
<a id="getFuture()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFuture</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;&nbsp;getFuture()</pre>
<div class="block">Gets the future associated with the job. The returned future is
 not cancellable. To cancel the job, the <a href="#cancel()"><code>cancel()</code></a> method
 should be used.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the job has not started yet.</dd>
</dl>
</li>
</ul>
<a id="join()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>join</h4>
<pre class="methodSignature">default&nbsp;void&nbsp;join()</pre>
<div class="block">Waits for the job to complete and throws an exception if the job
 completes with an error. Does not return if the job gets suspended.
 Never returns for streaming (unbounded) jobs, unless they fail or are
 cancelled.
 <p>
 Shorthand for <code>job.getFuture().join()</code>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CancellationException.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CancellationException</a></code> - if the job was cancelled</dd>
</dl>
</li>
</ul>
<a id="restart()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restart</h4>
<pre class="methodSignature">void&nbsp;restart()</pre>
<div class="block">Gracefully stops the current execution and schedules a new execution
 with the current member list of the Jet cluster. Can be called to
 manually make use of added members, if <a href="config/JobConfig.html#setAutoScaling(boolean)">auto scaling</a> is disabled. Only a running job
 can be restarted; a suspended job must be <a href="#resume()">resumed</a>.
 <p>
 Conceptually this call is equivalent to <a href="#suspend()"><code>suspend()</code></a> & <a href="#resume()"><code>resume()</code></a>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the job is not running, for example it
 has already completed, is not yet running, is already restarting,
 suspended etc.</dd>
</dl>
</li>
</ul>
<a id="suspend()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>suspend</h4>
<pre class="methodSignature">void&nbsp;suspend()</pre>
<div class="block">Gracefully suspends the current execution of the job. The job's status
 will become <a href="core/JobStatus.html#SUSPENDED"><code>JobStatus.SUSPENDED</code></a>. To resume the job, call <a href="#resume()"><code>resume()</code></a>.
 <p>
 You can suspend a job even if it's not configured for <a href="config/JobConfig.html#setProcessingGuarantee(com.hazelcast.jet.config.ProcessingGuarantee)">snapshotting</a>. Such a job will resume
 with empty state, as if it has just been started.
 <p>
 This call just initiates the suspension process and doesn't wait for it
 to complete. Suspension starts with creating a terminal state snapshot.
 Should the terminal snapshot fail, the job will suspend anyway, but the
 previous snapshot (if there was one) won't be deleted. When the job
 resumes, its processing starts from the point of the last snapshot.
 <p>
 <strong>NOTE:</strong> if the cluster becomes unstable (a member leaves or
 similar) while the job is in the process of being suspended, it may end up
 getting immediately restarted. Call <a href="#getStatus()"><code>getStatus()</code></a> to find out and
 possibly try to suspend again.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the job is not running</dd>
</dl>
</li>
</ul>
<a id="resume()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resume</h4>
<pre class="methodSignature">void&nbsp;resume()</pre>
<div class="block">Resumes a <a href="#suspend()">suspended</a> job. The job will resume from
 the last known successful snapshot, if there is one.
 <p>
 If the job is not suspended, it does nothing.</div>
</li>
</ul>
<a id="cancel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancel</h4>
<pre class="methodSignature">void&nbsp;cancel()</pre>
<div class="block">Makes a request to cancel this job and returns. The job will complete
 after its execution has stopped on all the nodes. If the job is
 already suspended, Jet will delete its runtime resources and snapshots
 and it won't be able to resume again.
 <p>
 <strong>NOTE:</strong> if the cluster becomes unstable (a member leaves
 or similar) while the job is in the process of cancellation, it may end
 up getting restarted after the cluster has stabilized and won't be
 cancelled. Call <a href="#getStatus()"><code>getStatus()</code></a> to find out and possibly try to
 cancel again.
 <p>
 The job status will be <a href="core/JobStatus.html#FAILED"><code>JobStatus.FAILED</code></a> after cancellation,
 <a href="#join()"><code>join()</code></a> will throw a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CancellationException.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>CancellationException</code></a>.
 <p>
 See <a href="#cancelAndExportSnapshot(java.lang.String)"><code>cancelAndExportSnapshot(String)</code></a> to cancel with a terminal
 snapshot.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the cluster is not in a state to
 restart the job, for example when coordinator member left and new
 coordinator did not yet load job's metadata.</dd>
</dl>
</li>
</ul>
<a id="cancelAndExportSnapshot(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelAndExportSnapshot</h4>
<pre class="methodSignature"><a href="JobStateSnapshot.html" title="class in com.hazelcast.jet">JobStateSnapshot</a>&nbsp;cancelAndExportSnapshot&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</pre>
<div class="block">Exports and saves a state snapshot with the given name,
 and then cancels the job without processing any more data after the
 barrier (graceful cancellation). It's similar to <a href="#suspend()"><code>suspend()</code></a>
 followed by a <a href="#cancel()"><code>cancel()</code></a>, except that it won't process any more
 data after the snapshot.
 <p>
 You can use the exported snapshot as a starting point for a new job. The
 job doesn't need to execute the same Pipeline as the job that created it,
 it must just be compatible with its state data. To achieve this, use
 <a href="config/JobConfig.html#setInitialSnapshotName(java.lang.String)"><code>JobConfig.setInitialSnapshotName(String)</code></a>.
 <p>
 Unlike <a href="#exportSnapshot(java.lang.String)"><code>exportSnapshot(java.lang.String)</code></a> method, when a snapshot is created using
 this method Jet will commit the external transactions because this
 snapshot is the last one created for the job and it's safe to use it to
 continue the processing.
 <p>
 If the terminal snapshot fails, Jet will suspend this job instead of
 cancelling it.
 <p>
 You can call this method for a suspended job, too: in that case it will
 export the last successful snapshot and cancel the job.
 <p>
 The method call will block until it has fully exported the snapshot, but
 may return before the job has stopped executing.
 <p>
 For more information about "exported state" see <a href="#exportSnapshot(java.lang.String)"><code>exportSnapshot(String)</code></a>.
 <p>
 The job status will be <a href="core/JobStatus.html#FAILED"><code>JobStatus.FAILED</code></a> after cancellation,
 <a href="#join()"><code>join()</code></a> will throw a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CancellationException.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>CancellationException</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - name of the snapshot. If name is already used, it will be
            overwritten</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="JetException.html" title="class in com.hazelcast.jet">JetException</a></code> - if the job is in an incorrect state: completed,
            cancelled or is in the process of restarting or suspending.</dd>
</dl>
</li>
</ul>
<a id="exportSnapshot(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>exportSnapshot</h4>
<pre class="methodSignature"><a href="JobStateSnapshot.html" title="class in com.hazelcast.jet">JobStateSnapshot</a>&nbsp;exportSnapshot&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</pre>
<div class="block">Exports a state snapshot and saves it under the given
 name. You can start a new job using the exported state using <a href="config/JobConfig.html#setInitialSnapshotName(java.lang.String)"><code>JobConfig.setInitialSnapshotName(String)</code></a>.
 <p>
 The snapshot will be independent from the job that created it. Jet
 won't automatically delete the IMap it is exported into. You must
 manually call <a href="JobStateSnapshot.html#destroy()">snapshot.destroy()</a>
 to delete it. If your state is large, make sure you have enough memory
 to store it. The snapshot created using this method will also not be
 used for automatic restart - should the job fail, the previous
 automatically saved snapshot will be used.
 <p>
 For transactional sources or sinks (that is those which use transactions
 to confirm reads or to commit writes), Jet will not commit the
 transactions when creating a snapshot using this method. The reason for
 this is that such connectors only achieve exactly-once guarantee if the
 job restarts from the latest snapshot. But, for example, if the job
 fails after exporting a snapshot but before it creates a new automatic
 one, the job would restart from the previous automatic snapshot and the
 stored internal and committed external state will be from a different
 point in time and a data loss will occur.
 <p>
 If a snapshot with the same name already exists, it will be
 overwritten. If a snapshot is already in progress for this job (either
 automatic or user-requested), the requested one will wait and start
 immediately after the previous one completes. If a snapshot with the
 same name is requested for two jobs at the same time, their data will
 likely be damaged (similar to two processes writing to the same file).
 <p>
 You can call this method on a suspended job: in that case it will export
 the last successful snapshot. You can also export the state of
 non-snapshotted jobs (those with <a href="config/ProcessingGuarantee.html#NONE"><code>ProcessingGuarantee.NONE</code></a>).
 <p>
 If you issue any graceful job-control actions such as a graceful member
 shutdown or suspending a snapshotted job while Jet is exporting a
 snapshot, they will wait in a queue for this snapshot to complete.
 Forceful job-control actions will interrupt the export procedure.
 <p>
 You can access the exported state using <a href="JetInstance.html#getJobStateSnapshot(java.lang.String)"><code>JetInstance.getJobStateSnapshot(String)</code></a>.
 <p>
 The method call will block until it has fully exported the snapshot.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - name of the snapshot. If name is already used, it will be
            overwritten</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="JetException.html" title="class in com.hazelcast.jet">JetException</a></code> - if the job is in an incorrect state: completed,
            cancelled or is in the process of restarting or suspending.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Job.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2020 <a href="http://www.hazelcast.com/">Hazelcast, Inc.</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
