<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_202) on Mon Apr 15 21:54:30 EET 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>GeneralStageWithKey (hazelcast-jet-distribution 3.0 API)</title>
<meta name="date" content="2019-04-15">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="GeneralStageWithKey (hazelcast-jet-distribution 3.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":18,"i11":18,"i12":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GeneralStageWithKey.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/hazelcast/jet/pipeline/GenericPredicates.html" title="class in com.hazelcast.jet.pipeline"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/hazelcast/jet/pipeline/GeneralStageWithKey.html" target="_top">Frames</a></li>
<li><a href="GeneralStageWithKey.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.hazelcast.jet.pipeline</div>
<h2 title="Interface GeneralStageWithKey" class="title">Interface GeneralStageWithKey&lt;T,K&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - type of the stream item</dd>
<dd><code>K</code> - type of the grouping key</dd>
</dl>
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../com/hazelcast/jet/pipeline/BatchStageWithKey.html" title="interface in com.hazelcast.jet.pipeline">BatchStageWithKey</a>&lt;T,K&gt;, <a href="../../../../com/hazelcast/jet/pipeline/StreamStageWithKey.html" title="interface in com.hazelcast.jet.pipeline">StreamStageWithKey</a>&lt;T,K&gt;</dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">GeneralStageWithKey&lt;T,K&gt;</span></pre>
<div class="block">An intermediate step when constructing a group-and-aggregate pipeline
 stage. This is the base type for the batch and stream variants.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#customTransform-java.lang.String-com.hazelcast.jet.core.ProcessorMetaSupplier-">customTransform</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;stageName,
               <a href="../../../../com/hazelcast/jet/core/ProcessorMetaSupplier.html" title="interface in com.hazelcast.jet.core">ProcessorMetaSupplier</a>&nbsp;procSupplier)</code>
<div class="block">Attaches a stage with a custom transform based on the provided supplier
 of Core API <a href="../../../../com/hazelcast/jet/core/Processor.html" title="interface in com.hazelcast.jet.core"><code>Processor</code></a>s.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#customTransform-java.lang.String-com.hazelcast.jet.core.ProcessorSupplier-">customTransform</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;stageName,
               <a href="../../../../com/hazelcast/jet/core/ProcessorSupplier.html" title="interface in com.hazelcast.jet.core">ProcessorSupplier</a>&nbsp;procSupplier)</code>
<div class="block">Attaches a stage with a custom transform based on the provided supplier
 of Core API <a href="../../../../com/hazelcast/jet/core/Processor.html" title="interface in com.hazelcast.jet.core"><code>Processor</code></a>s.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#customTransform-java.lang.String-com.hazelcast.jet.function.SupplierEx-">customTransform</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;stageName,
               <a href="../../../../com/hazelcast/jet/function/SupplierEx.html" title="interface in com.hazelcast.jet.function">SupplierEx</a>&lt;<a href="../../../../com/hazelcast/jet/core/Processor.html" title="interface in com.hazelcast.jet.core">Processor</a>&gt;&nbsp;procSupplier)</code>
<div class="block">Attaches a stage with a custom transform based on the provided supplier
 of Core API <a href="../../../../com/hazelcast/jet/core/Processor.html" title="interface in com.hazelcast.jet.core"><code>Processor</code></a>s.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>&lt;C&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#filterUsingContext-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriPredicate-">filterUsingContext</a></span>(<a href="../../../../com/hazelcast/jet/pipeline/ContextFactory.html" title="class in com.hazelcast.jet.pipeline">ContextFactory</a>&lt;C&gt;&nbsp;contextFactory,
                  <a href="../../../../com/hazelcast/jet/function/TriPredicate.html" title="interface in com.hazelcast.jet.function">TriPredicate</a>&lt;? super C,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>&gt;&nbsp;filterFn)</code>
<div class="block">Attaches a filtering stage which applies the provided predicate function
 to each input item to decide whether to pass the item to the output or
 to discard it.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>&lt;C&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#filterUsingContextAsync-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriFunction-">filterUsingContextAsync</a></span>(<a href="../../../../com/hazelcast/jet/pipeline/ContextFactory.html" title="class in com.hazelcast.jet.pipeline">ContextFactory</a>&lt;C&gt;&nbsp;contextFactory,
                       <a href="../../../../com/hazelcast/jet/function/TriFunction.html" title="interface in com.hazelcast.jet.function">TriFunction</a>&lt;? super C,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&gt;&nbsp;filterAsyncFn)</code>
<div class="block">Asynchronous version of <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#filterUsingContext-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriPredicate-"><code>filterUsingContext(com.hazelcast.jet.pipeline.ContextFactory&lt;C&gt;, com.hazelcast.jet.function.TriPredicate&lt;? super C, ? super K, ? super T&gt;)</code></a>: the <code>filterAsyncFn</code> returns a <code>CompletableFuture&lt;Boolean&gt;</code> instead of
 just a <code>boolean</code>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>&lt;C,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#flatMapUsingContext-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriFunction-">flatMapUsingContext</a></span>(<a href="../../../../com/hazelcast/jet/pipeline/ContextFactory.html" title="class in com.hazelcast.jet.pipeline">ContextFactory</a>&lt;C&gt;&nbsp;contextFactory,
                   <a href="../../../../com/hazelcast/jet/function/TriFunction.html" title="interface in com.hazelcast.jet.function">TriFunction</a>&lt;? super C,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,? extends <a href="../../../../com/hazelcast/jet/Traverser.html" title="interface in com.hazelcast.jet">Traverser</a>&lt;? extends R&gt;&gt;&nbsp;flatMapFn)</code>
<div class="block">Attaches a flat-mapping stage which applies the supplied function to
 each input item independently and emits all the items from the
 <a href="../../../../com/hazelcast/jet/Traverser.html" title="interface in com.hazelcast.jet"><code>Traverser</code></a> it returns as the output items.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>&lt;C,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#flatMapUsingContextAsync-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriFunction-">flatMapUsingContextAsync</a></span>(<a href="../../../../com/hazelcast/jet/pipeline/ContextFactory.html" title="class in com.hazelcast.jet.pipeline">ContextFactory</a>&lt;C&gt;&nbsp;contextFactory,
                        <a href="../../../../com/hazelcast/jet/function/TriFunction.html" title="interface in com.hazelcast.jet.function">TriFunction</a>&lt;? super C,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../../com/hazelcast/jet/Traverser.html" title="interface in com.hazelcast.jet">Traverser</a>&lt;R&gt;&gt;&gt;&nbsp;flatMapAsyncFn)</code>
<div class="block">Asynchronous version of <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#flatMapUsingContext-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriFunction-"><code>flatMapUsingContext(com.hazelcast.jet.pipeline.ContextFactory&lt;C&gt;, com.hazelcast.jet.function.TriFunction&lt;? super C, ? super K, ? super T, ? extends com.hazelcast.jet.Traverser&lt;? extends R&gt;&gt;)</code></a>: the <code>flatMapAsyncFn</code> returns a <code>CompletableFuture&lt;Traverser&lt;R&gt;&gt;</code>
 instead of just <code>Traverser&lt;R&gt;</code>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/hazelcast/jet/function/FunctionEx.html" title="interface in com.hazelcast.jet.function">FunctionEx</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,? extends <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#keyFn--">keyFn</a></span>()</code>
<div class="block">Returns the function that extracts the key from stream items.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>&lt;C,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#mapUsingContext-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriFunction-">mapUsingContext</a></span>(<a href="../../../../com/hazelcast/jet/pipeline/ContextFactory.html" title="class in com.hazelcast.jet.pipeline">ContextFactory</a>&lt;C&gt;&nbsp;contextFactory,
               <a href="../../../../com/hazelcast/jet/function/TriFunction.html" title="interface in com.hazelcast.jet.function">TriFunction</a>&lt;? super C,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,? extends R&gt;&nbsp;mapFn)</code>
<div class="block">Attaches a mapping stage which applies the given function to each input
 item independently and emits the function's result as the output item.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>&lt;C,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#mapUsingContextAsync-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriFunction-">mapUsingContextAsync</a></span>(<a href="../../../../com/hazelcast/jet/pipeline/ContextFactory.html" title="class in com.hazelcast.jet.pipeline">ContextFactory</a>&lt;C&gt;&nbsp;contextFactory,
                    <a href="../../../../com/hazelcast/jet/function/TriFunction.html" title="interface in com.hazelcast.jet.function">TriFunction</a>&lt;? super C,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;R&gt;&gt;&nbsp;mapAsyncFn)</code>
<div class="block">Asynchronous version of <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#mapUsingContext-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriFunction-"><code>mapUsingContext(com.hazelcast.jet.pipeline.ContextFactory&lt;C&gt;, com.hazelcast.jet.function.TriFunction&lt;? super C, ? super K, ? super T, ? extends R&gt;)</code></a>: the <code>mapAsyncFn</code>
 returns a <code>CompletableFuture&lt;R&gt;</code> instead of just <code>R</code>.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>default &lt;V,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#mapUsingIMap-com.hazelcast.core.IMap-com.hazelcast.jet.function.BiFunctionEx-">mapUsingIMap</a></span>(<a href="../../../../com/hazelcast/core/IMap.html" title="interface in com.hazelcast.core">IMap</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,V&gt;&nbsp;iMap,
            <a href="../../../../com/hazelcast/jet/function/BiFunctionEx.html" title="interface in com.hazelcast.jet.function">BiFunctionEx</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,? super V,? extends R&gt;&nbsp;mapFn)</code>
<div class="block">Attaches a mapping stage where for each item a lookup in the
 supplied <code>IMap</code> using the grouping key is performed
 and the result of the lookup is merged with the item and emitted.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>default &lt;V,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#mapUsingIMap-java.lang.String-com.hazelcast.jet.function.BiFunctionEx-">mapUsingIMap</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;mapName,
            <a href="../../../../com/hazelcast/jet/function/BiFunctionEx.html" title="interface in com.hazelcast.jet.function">BiFunctionEx</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,? super V,? extends R&gt;&nbsp;mapFn)</code>
<div class="block">Attaches a mapping stage where for each item a lookup in the
 <code>IMap</code> with the supplied name using the grouping key is performed
 and the result of the lookup is merged with the item and emitted.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util">Map.Entry</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,R&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#rollingAggregate-com.hazelcast.jet.aggregate.AggregateOperation1-">rollingAggregate</a></span>(<a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,?,? extends R&gt;&nbsp;aggrOp)</code>
<div class="block">Attaches a rolling aggregation stage.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="keyFn--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyFn</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
<a href="../../../../com/hazelcast/jet/function/FunctionEx.html" title="interface in com.hazelcast.jet.function">FunctionEx</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,? extends <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>&gt;&nbsp;keyFn()</pre>
<div class="block">Returns the function that extracts the key from stream items. The
 purpose of the key varies with the operation you apply.</div>
</li>
</ul>
<a name="mapUsingContext-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriFunction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mapUsingContext</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
&lt;C,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;&nbsp;mapUsingContext(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                               <a href="../../../../com/hazelcast/jet/pipeline/ContextFactory.html" title="class in com.hazelcast.jet.pipeline">ContextFactory</a>&lt;C&gt;&nbsp;contextFactory,
                                               <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                               <a href="../../../../com/hazelcast/jet/function/TriFunction.html" title="interface in com.hazelcast.jet.function">TriFunction</a>&lt;? super C,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,? extends R&gt;&nbsp;mapFn)</pre>
<div class="block">Attaches a mapping stage which applies the given function to each input
 item independently and emits the function's result as the output item.
 The mapping function receives another parameter, the context object,
 which Jet will create using the supplied <code>contextFactory</code>. If the
 mapping result is <code>null</code>, it emits nothing. Therefore this stage
 can be used to implement filtering semantics as well.
 <p>
 Jet uses the <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#keyFn--">key-extracting function</a> specified on
 this stage for partitioning: all the items with the same key will see
 the same context instance (but note that the same instance serves many
 keys). One case where this is useful is fetching data from an external
 system because you can use a near-cache without duplicating the cached
 data.
 <p>
 Sample usage:
 <pre><code>
 items.groupingKey(Item::getDetailId)
      .mapUsingContext(
          ContextFactory.withCreateFn(jet -&gt; new ItemDetailRegistry()),
          (reg, key, item) -&gt; item.setDetail(reg.fetchDetail(key))
      );
 </code></pre>

 <h3>Interaction with fault-tolerant unbounded jobs</h3>
 If you use this stage in a fault-tolerant unbounded job, keep in mind
 that any state the context object maintains doesn't participate in Jet's
 fault tolerance protocol. If the state is local, it will be lost after a
 job restart; if it is saved to some durable storage, the state of that
 storage won't be rewound to the last checkpoint, so you'll perform
 duplicate updates.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>C</code> - type of context object</dd>
<dd><code>R</code> - the result type of the mapping function</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextFactory</code> - the context factory</dd>
<dd><code>mapFn</code> - a stateless mapping function</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly attached stage</dd>
</dl>
</li>
</ul>
<a name="mapUsingContextAsync-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriFunction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mapUsingContextAsync</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
&lt;C,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;&nbsp;mapUsingContextAsync(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                    <a href="../../../../com/hazelcast/jet/pipeline/ContextFactory.html" title="class in com.hazelcast.jet.pipeline">ContextFactory</a>&lt;C&gt;&nbsp;contextFactory,
                                                    <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                    <a href="../../../../com/hazelcast/jet/function/TriFunction.html" title="interface in com.hazelcast.jet.function">TriFunction</a>&lt;? super C,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;R&gt;&gt;&nbsp;mapAsyncFn)</pre>
<div class="block">Asynchronous version of <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#mapUsingContext-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriFunction-"><code>mapUsingContext(com.hazelcast.jet.pipeline.ContextFactory&lt;C&gt;, com.hazelcast.jet.function.TriFunction&lt;? super C, ? super K, ? super T, ? extends R&gt;)</code></a>: the <code>mapAsyncFn</code>
 returns a <code>CompletableFuture&lt;R&gt;</code> instead of just <code>R</code>.
 <p>
 The function can return a null future or the future can return a null
 result: in both cases it will act just like a filter.
 <p>
 Sample usage:
 <pre><code>
 items.groupingKey(Item::getDetailId)
      .mapUsingContextAsync(
          ContextFactory.withCreateFn(jet -&gt; new ItemDetailRegistry()),
          (reg, key, item) -&gt; reg.fetchDetailAsync(key)
                                 .thenApply(detail -&gt; item.setDetail(detail))
      );
 </code></pre>
 The latency of the async call will add to the total latency of the
 output.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>C</code> - type of context object</dd>
<dd><code>R</code> - the future's result type of the mapping function</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextFactory</code> - the context factory</dd>
<dd><code>mapAsyncFn</code> - a stateless mapping function. Can map to null (return
      a null future)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly attached stage</dd>
</dl>
</li>
</ul>
<a name="filterUsingContext-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriPredicate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filterUsingContext</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
&lt;C&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>&gt;&nbsp;filterUsingContext(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                <a href="../../../../com/hazelcast/jet/pipeline/ContextFactory.html" title="class in com.hazelcast.jet.pipeline">ContextFactory</a>&lt;C&gt;&nbsp;contextFactory,
                                                <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                <a href="../../../../com/hazelcast/jet/function/TriPredicate.html" title="interface in com.hazelcast.jet.function">TriPredicate</a>&lt;? super C,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>&gt;&nbsp;filterFn)</pre>
<div class="block">Attaches a filtering stage which applies the provided predicate function
 to each input item to decide whether to pass the item to the output or
 to discard it. The predicate function receives another parameter, the
 context object, which Jet will create using the supplied <code>contextFactory</code>.
 <p>
 Jet uses the <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#keyFn--">key-extracting function</a> specified on
 this stage for partitioning: all the items with the same key will see
 the same context instance (but note that the same instance serves many
 keys). One case where this is useful is fetching data from an external
 system because you can use a near-cache without duplicating the cached
 data.
 <p>
 Sample usage:
 <pre><code>
 items.groupingKey(Item::getDetailId)
      .filterUsingContext(
          ContextFactory.withCreateFn(jet -&gt; new ItemDetailRegistry()),
          (reg, key, item) -&gt; reg.fetchDetail(key).contains("blade")
      );
 </code></pre>

 <h3>Interaction with fault-tolerant unbounded jobs</h3>
 If you use this stage in a fault-tolerant unbounded job, keep in mind
 that any state the context object maintains doesn't participate in Jet's
 fault tolerance protocol. If the state is local, it will be lost after a
 job restart; if it is saved to some durable storage, the state of that
 storage won't be rewound to the last checkpoint, so you'll perform
 duplicate updates.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>C</code> - type of context object</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextFactory</code> - the context factory</dd>
<dd><code>filterFn</code> - a stateless filter predicate function</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly attached stage</dd>
</dl>
</li>
</ul>
<a name="filterUsingContextAsync-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriFunction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filterUsingContextAsync</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
&lt;C&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>&gt;&nbsp;filterUsingContextAsync(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                     <a href="../../../../com/hazelcast/jet/pipeline/ContextFactory.html" title="class in com.hazelcast.jet.pipeline">ContextFactory</a>&lt;C&gt;&nbsp;contextFactory,
                                                     <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                     <a href="../../../../com/hazelcast/jet/function/TriFunction.html" title="interface in com.hazelcast.jet.function">TriFunction</a>&lt;? super C,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&gt;&nbsp;filterAsyncFn)</pre>
<div class="block">Asynchronous version of <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#filterUsingContext-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriPredicate-"><code>filterUsingContext(com.hazelcast.jet.pipeline.ContextFactory&lt;C&gt;, com.hazelcast.jet.function.TriPredicate&lt;? super C, ? super K, ? super T&gt;)</code></a>: the <code>filterAsyncFn</code> returns a <code>CompletableFuture&lt;Boolean&gt;</code> instead of
 just a <code>boolean</code>.
 <p>
 The function must not return a null future.
 <p>
 Sample usage:
 <pre><code>
 items.groupingKey(Item::getDetailId)
      .filterUsingContextAsync(
          ContextFactory.withCreateFn(jet -&gt; new ItemDetailRegistry()),
          (reg, key, item) -&gt; reg.fetchDetailAsync(key)
                                 .thenApply(detail -&gt; detail.contains("blade"))
      );
 </code></pre>
 <p>
 The latency of the async call will add to the total latency of the
 output.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>C</code> - type of context object</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextFactory</code> - the context factory</dd>
<dd><code>filterAsyncFn</code> - a stateless filtering function</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly attached stage</dd>
</dl>
</li>
</ul>
<a name="flatMapUsingContext-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriFunction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flatMapUsingContext</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
&lt;C,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;&nbsp;flatMapUsingContext(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                   <a href="../../../../com/hazelcast/jet/pipeline/ContextFactory.html" title="class in com.hazelcast.jet.pipeline">ContextFactory</a>&lt;C&gt;&nbsp;contextFactory,
                                                   <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                   <a href="../../../../com/hazelcast/jet/function/TriFunction.html" title="interface in com.hazelcast.jet.function">TriFunction</a>&lt;? super C,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,? extends <a href="../../../../com/hazelcast/jet/Traverser.html" title="interface in com.hazelcast.jet">Traverser</a>&lt;? extends R&gt;&gt;&nbsp;flatMapFn)</pre>
<div class="block">Attaches a flat-mapping stage which applies the supplied function to
 each input item independently and emits all the items from the
 <a href="../../../../com/hazelcast/jet/Traverser.html" title="interface in com.hazelcast.jet"><code>Traverser</code></a> it returns as the output items. The traverser must
 be <em>null-terminated</em>. The mapping function receives another
 parameter, the context object, which Jet will create using the supplied
 <code>contextFactory</code>.
 <p>
 Jet uses the <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#keyFn--">key-extracting function</a> specified on
 this stage for partitioning: all the items with the same key will see
 the same context instance (but note that the same instance serves many
 keys). One case where this is useful is fetching data from an external
 system because you can use a near-cache without duplicating the cached
 data.
 <p>
 Sample usage:
 <pre><code>
 StreamStage&lt;Part&gt; parts = products
     .groupingKey(Product::getId)
     .flatMapUsingContext(
         ContextFactory.withCreateFn(jet -&gt; new PartRegistry()),
         (registry, productId, product) -&gt; Traversers.traverseIterable(
                 registry.fetchParts(productId))
     );
 </code></pre>

 <h3>Interaction with fault-tolerant unbounded jobs</h3>
 If you use this stage in a fault-tolerant unbounded job, keep in mind
 that any state the context object maintains doesn't participate in Jet's
 fault tolerance protocol. If the state is local, it will be lost after a
 job restart; if it is saved to some durable storage, the state of that
 storage won't be rewound to the last checkpoint, so you'll perform
 duplicate updates.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>C</code> - type of context object</dd>
<dd><code>R</code> - type of the output items</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextFactory</code> - the context factory</dd>
<dd><code>flatMapFn</code> - a stateless flatmapping function</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly attached stage</dd>
</dl>
</li>
</ul>
<a name="flatMapUsingContextAsync-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriFunction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flatMapUsingContextAsync</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
&lt;C,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;&nbsp;flatMapUsingContextAsync(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                        <a href="../../../../com/hazelcast/jet/pipeline/ContextFactory.html" title="class in com.hazelcast.jet.pipeline">ContextFactory</a>&lt;C&gt;&nbsp;contextFactory,
                                                        <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                        <a href="../../../../com/hazelcast/jet/function/TriFunction.html" title="interface in com.hazelcast.jet.function">TriFunction</a>&lt;? super C,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../../com/hazelcast/jet/Traverser.html" title="interface in com.hazelcast.jet">Traverser</a>&lt;R&gt;&gt;&gt;&nbsp;flatMapAsyncFn)</pre>
<div class="block">Asynchronous version of <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html#flatMapUsingContext-com.hazelcast.jet.pipeline.ContextFactory-com.hazelcast.jet.function.TriFunction-"><code>flatMapUsingContext(com.hazelcast.jet.pipeline.ContextFactory&lt;C&gt;, com.hazelcast.jet.function.TriFunction&lt;? super C, ? super K, ? super T, ? extends com.hazelcast.jet.Traverser&lt;? extends R&gt;&gt;)</code></a>: the <code>flatMapAsyncFn</code> returns a <code>CompletableFuture&lt;Traverser&lt;R&gt;&gt;</code>
 instead of just <code>Traverser&lt;R&gt;</code>.
 <p>
 The function can return a null future or the future can return a null
 traverser: in both cases it will act just like a filter.
 <p>
 Sample usage:
 <pre><code>
 StreamStage&lt;Part&gt; productParts = products
     .groupingKey(Product::getId)
     .flatMapUsingContextAsync(
         ContextFactory.withCreateFn(jet -&gt; new PartRegistry()),
         (registry, productId, product) -&gt; registry
                 .fetchPartsAsync(productId)
                 .thenApply(parts -&gt; Traversers.traverseIterable(parts))
     );
 </code></pre>
 <p>
 The latency of the async call will add to the latency of the items.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>C</code> - type of context object</dd>
<dd><code>R</code> - the type of the returned stage</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextFactory</code> - the context factory</dd>
<dd><code>flatMapAsyncFn</code> - a stateless flatmapping function. Can map to null
      (return a null future)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly attached stage</dd>
</dl>
</li>
</ul>
<a name="mapUsingIMap-java.lang.String-com.hazelcast.jet.function.BiFunctionEx-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mapUsingIMap</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
default&nbsp;&lt;V,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;&nbsp;mapUsingIMap(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                    <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;mapName,
                                                    <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                    <a href="../../../../com/hazelcast/jet/function/BiFunctionEx.html" title="interface in com.hazelcast.jet.function">BiFunctionEx</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,? super V,? extends R&gt;&nbsp;mapFn)</pre>
<div class="block">Attaches a mapping stage where for each item a lookup in the
 <code>IMap</code> with the supplied name using the grouping key is performed
 and the result of the lookup is merged with the item and emitted.
 <p>
 If the result of the mapping is <code>null</code>, it emits nothing.
 Therefore this stage can be used to implement filtering semantics as well.
 <p>
 The mapping logic is equivalent to:
 <pre><code>
 V value = map.get(groupingKey);
 return mapFn.apply(item, value);
 </code></pre>

 Sample usage:
 <pre><code>
 items.groupingKey(Item::getDetailId)
      .mapUsingIMap(
              "enriching-map",
              (Item item, ItemDetail detail) -&gt; item.setDetail(detail)
      );
 </code></pre>
 This stage is similar to <a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html#mapUsingIMap-com.hazelcast.core.IMap-com.hazelcast.jet.function.FunctionEx-com.hazelcast.jet.function.BiFunctionEx-"><code>stageWithoutKey.mapUsingIMap()</code></a>,
 but here Jet knows the key and uses it to partition and distribute the input in order
 to achieve data locality. The value it fetches from the <code>IMap</code> is
 stored on the cluster member where the processing takes place. However,
 if the map doesn't use the default partitioning strategy, the data
 locality will be broken.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>V</code> - type of the value in the <code>IMap</code></dd>
<dd><code>R</code> - type of the output item</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mapName</code> - name of the <code>IMap</code></dd>
<dd><code>mapFn</code> - the mapping function</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly attached stage</dd>
</dl>
</li>
</ul>
<a name="mapUsingIMap-com.hazelcast.core.IMap-com.hazelcast.jet.function.BiFunctionEx-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mapUsingIMap</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
default&nbsp;&lt;V,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;&nbsp;mapUsingIMap(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                    <a href="../../../../com/hazelcast/core/IMap.html" title="interface in com.hazelcast.core">IMap</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,V&gt;&nbsp;iMap,
                                                    <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                    <a href="../../../../com/hazelcast/jet/function/BiFunctionEx.html" title="interface in com.hazelcast.jet.function">BiFunctionEx</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,? super V,? extends R&gt;&nbsp;mapFn)</pre>
<div class="block">Attaches a mapping stage where for each item a lookup in the
 supplied <code>IMap</code> using the grouping key is performed
 and the result of the lookup is merged with the item and emitted.
 <p>
 If the result of the mapping is <code>null</code>, it emits nothing.
 Therefore this stage can be used to implement filtering semantics as well.
 <p>
 The mapping logic is equivalent to:
 <pre><code>
 V value = map.get(groupingKey);
 return mapFn.apply(item, value);
 </code></pre>

 Sample usage:
 <pre><code>
 items.groupingKey(Item::getDetailId)
      .mapUsingIMap(enrichingMap, (item, detail) -&gt; item.setDetail(detail));
 </code></pre>

 This stage is similar to <a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html#mapUsingIMap-com.hazelcast.core.IMap-com.hazelcast.jet.function.FunctionEx-com.hazelcast.jet.function.BiFunctionEx-"><code>stageWithoutKey.mapUsingIMap()</code></a>,
 but here Jet knows the key and uses it to partition and distribute the
 input in order to achieve data locality. The value it fetches from the
 <code>IMap</code> is stored on the cluster member where the processing takes
 place. However, if the map doesn't use the default partitioning strategy,
 data locality will be broken.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>V</code> - type of the value in the <code>IMap</code></dd>
<dd><code>R</code> - type of the output item</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>iMap</code> - the <code>IMap</code> to use as the context</dd>
<dd><code>mapFn</code> - the mapping function</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly attached stage</dd>
</dl>
</li>
</ul>
<a name="rollingAggregate-com.hazelcast.jet.aggregate.AggregateOperation1-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollingAggregate</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
&lt;R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util">Map.Entry</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">K</a>,R&gt;&gt;&nbsp;rollingAggregate(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                           <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/GeneralStageWithKey.html" title="type parameter in GeneralStageWithKey">T</a>,?,? extends R&gt;&nbsp;aggrOp)</pre>
<div class="block">Attaches a rolling aggregation stage. As opposed to regular aggregation,
 this stage emits the current aggregation result after receiving each
 item. For example, if your aggregation is <em>summing</em> and the input
 under a given key is <code>{2, 7, 8, -5}</code>, the output will be <code>{2,
 9, 17, 12}</code>.
 <p>
 Sample usage:
 <pre><code>
 StreamStage&lt;Entry&lt;Color, Long&gt;&gt; aggregated = items
         .groupingKey(Item::getColor)
         .rollingAggregate(AggregateOperations.counting());
 </code></pre>
 <p>
 This stage is fault-tolerant and saves its state to the snapshot.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - type of the aggregate operation result</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aggrOp</code> - the aggregate operation to perform</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly attached stage</dd>
</dl>
</li>
</ul>
<a name="customTransform-java.lang.String-com.hazelcast.jet.function.SupplierEx-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>customTransform</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
&lt;R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;&nbsp;customTransform(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;stageName,
                                             <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                             <a href="../../../../com/hazelcast/jet/function/SupplierEx.html" title="interface in com.hazelcast.jet.function">SupplierEx</a>&lt;<a href="../../../../com/hazelcast/jet/core/Processor.html" title="interface in com.hazelcast.jet.core">Processor</a>&gt;&nbsp;procSupplier)</pre>
<div class="block">Attaches a stage with a custom transform based on the provided supplier
 of Core API <a href="../../../../com/hazelcast/jet/core/Processor.html" title="interface in com.hazelcast.jet.core"><code>Processor</code></a>s. The inbound edge will be distributed and
 partitioned using the key function assigned to this stage.
 <p>
 Note that the type parameter of the returned stage is inferred from the
 call site and not propagated from the processor that will produce the
 result, so there is no actual type safety provided.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - the type of the output items</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stageName</code> - a human-readable name for the custom stage</dd>
<dd><code>procSupplier</code> - the supplier of processors</dd>
</dl>
</li>
</ul>
<a name="customTransform-java.lang.String-com.hazelcast.jet.core.ProcessorSupplier-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>customTransform</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
&lt;R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;&nbsp;customTransform(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;stageName,
                                             <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                             <a href="../../../../com/hazelcast/jet/core/ProcessorSupplier.html" title="interface in com.hazelcast.jet.core">ProcessorSupplier</a>&nbsp;procSupplier)</pre>
<div class="block">Attaches a stage with a custom transform based on the provided supplier
 of Core API <a href="../../../../com/hazelcast/jet/core/Processor.html" title="interface in com.hazelcast.jet.core"><code>Processor</code></a>s. The inbound edge will be distributed and
 partitioned using the key function assigned to this stage.
 <p>
 Note that the type parameter of the returned stage is inferred from the
 call site and not propagated from the processor that will produce the
 result, so there is no actual type safety provided.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - the type of the output items</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stageName</code> - a human-readable name for the custom stage</dd>
<dd><code>procSupplier</code> - the supplier of processors</dd>
</dl>
</li>
</ul>
<a name="customTransform-java.lang.String-com.hazelcast.jet.core.ProcessorMetaSupplier-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>customTransform</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
&lt;R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline">GeneralStage</a>&lt;R&gt;&nbsp;customTransform(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;stageName,
                                             <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                             <a href="../../../../com/hazelcast/jet/core/ProcessorMetaSupplier.html" title="interface in com.hazelcast.jet.core">ProcessorMetaSupplier</a>&nbsp;procSupplier)</pre>
<div class="block">Attaches a stage with a custom transform based on the provided supplier
 of Core API <a href="../../../../com/hazelcast/jet/core/Processor.html" title="interface in com.hazelcast.jet.core"><code>Processor</code></a>s. The inbound edge will be distributed and
 partitioned using the key function assigned to this stage.
 <p>
 Note that the type parameter of the returned stage is inferred from the
 call site and not propagated from the processor that will produce the
 result, so there is no actual type safety provided.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - the type of the output items</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stageName</code> - a human-readable name for the custom stage</dd>
<dd><code>procSupplier</code> - the supplier of processors</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GeneralStageWithKey.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/hazelcast/jet/pipeline/GeneralStage.html" title="interface in com.hazelcast.jet.pipeline"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/hazelcast/jet/pipeline/GenericPredicates.html" title="class in com.hazelcast.jet.pipeline"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/hazelcast/jet/pipeline/GeneralStageWithKey.html" target="_top">Frames</a></li>
<li><a href="GeneralStageWithKey.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019 <a href="http://www.hazelcast.com/">Hazelcast, Inc.</a>. All rights reserved.</small></p>
</body>
</html>
