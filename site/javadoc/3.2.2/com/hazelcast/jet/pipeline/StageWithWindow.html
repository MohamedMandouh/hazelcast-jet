<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_162) on Tue Feb 04 07:42:32 UTC 2020 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>StageWithWindow (hazelcast-jet-distribution 3.2.2 API)</title>
<meta name="date" content="2020-02-04">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="StageWithWindow (hazelcast-jet-distribution 3.2.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":18,"i2":6,"i3":18,"i4":6,"i5":18,"i6":18,"i7":18,"i8":6,"i9":6,"i10":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StageWithWindow.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/hazelcast/jet/pipeline/StageWithKeyAndWindow.html" title="interface in com.hazelcast.jet.pipeline"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/hazelcast/jet/pipeline/StreamHashJoinBuilder.html" title="class in com.hazelcast.jet.pipeline"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/hazelcast/jet/pipeline/StageWithWindow.html" target="_top">Frames</a></li>
<li><a href="StageWithWindow.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.hazelcast.jet.pipeline</div>
<h2 title="Interface StageWithWindow" class="title">Interface StageWithWindow&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - type of the input item</dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">StageWithWindow&lt;T&gt;</span></pre>
<div class="block">Represents an intermediate step in the construction of a pipeline stage
 that performs a windowed aggregate operation. You can perform a global
 aggregation or add a grouping key to perform a group-and-aggregate
 operation.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>3.0</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/WindowResult.html" title="class in com.hazelcast.jet.datamodel">WindowResult</a>&lt;R&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html#aggregate-com.hazelcast.jet.aggregate.AggregateOperation1-">aggregate</a></span>(<a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,?,? extends R&gt;&nbsp;aggrOp)</code>
<div class="block">Attaches a stage that performs the given aggregate operation over all
 the items that belong to a given window.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>default &lt;T1,R0,R1&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/WindowResult.html" title="class in com.hazelcast.jet.datamodel">WindowResult</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/Tuple2.html" title="class in com.hazelcast.jet.datamodel">Tuple2</a>&lt;R0,R1&gt;&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html#aggregate2-com.hazelcast.jet.aggregate.AggregateOperation1-com.hazelcast.jet.pipeline.StreamStage-com.hazelcast.jet.aggregate.AggregateOperation1-">aggregate2</a></span>(<a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,?,? extends R0&gt;&nbsp;aggrOp0,
          <a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;T1&gt;&nbsp;stage1,
          <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super T1,?,? extends R1&gt;&nbsp;aggrOp1)</code>
<div class="block">Attaches a stage that performs the given co-aggregate operations over
 the items from this stage and <code>stage1</code> you supply.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>&lt;T1,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/WindowResult.html" title="class in com.hazelcast.jet.datamodel">WindowResult</a>&lt;R&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html#aggregate2-com.hazelcast.jet.pipeline.StreamStage-com.hazelcast.jet.aggregate.AggregateOperation2-">aggregate2</a></span>(<a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;T1&gt;&nbsp;stage1,
          <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation2.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation2</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,? super T1,?,? extends R&gt;&nbsp;aggrOp)</code>
<div class="block">Attaches a stage that performs the given aggregate operation over all
 the items that belong to the same window.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>default &lt;T1,T2,R0,R1,R2&gt;<br><a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/WindowResult.html" title="class in com.hazelcast.jet.datamodel">WindowResult</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/Tuple3.html" title="class in com.hazelcast.jet.datamodel">Tuple3</a>&lt;R0,R1,R2&gt;&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html#aggregate3-com.hazelcast.jet.aggregate.AggregateOperation1-com.hazelcast.jet.pipeline.StreamStage-com.hazelcast.jet.aggregate.AggregateOperation1-com.hazelcast.jet.pipeline.StreamStage-com.hazelcast.jet.aggregate.AggregateOperation1-">aggregate3</a></span>(<a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,?,? extends R0&gt;&nbsp;aggrOp0,
          <a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;T1&gt;&nbsp;stage1,
          <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super T1,?,? extends R1&gt;&nbsp;aggrOp1,
          <a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;T2&gt;&nbsp;stage2,
          <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super T2,?,? extends R2&gt;&nbsp;aggrOp2)</code>
<div class="block">Attaches a stage that performs the given aggregate operation over all
 the items that belong to the same window.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>&lt;T1,T2,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/WindowResult.html" title="class in com.hazelcast.jet.datamodel">WindowResult</a>&lt;R&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html#aggregate3-com.hazelcast.jet.pipeline.StreamStage-com.hazelcast.jet.pipeline.StreamStage-com.hazelcast.jet.aggregate.AggregateOperation3-">aggregate3</a></span>(<a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;T1&gt;&nbsp;stage1,
          <a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;T2&gt;&nbsp;stage2,
          <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation3.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation3</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,? super T1,? super T2,?,? extends R&gt;&nbsp;aggrOp)</code>
<div class="block">Attaches a stage that performs the given aggregate operation over the
 items it receives from this stage as well as <code>stage1</code> and <code>stage2</code> you supply.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>default <a href="../../../../com/hazelcast/jet/pipeline/WindowAggregateBuilder1.html" title="class in com.hazelcast.jet.pipeline">WindowAggregateBuilder1</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html#aggregateBuilder--">aggregateBuilder</a></span>()</code>
<div class="block">Offers a step-by-step API to build a pipeline stage that co-aggregates
 the data from several input stages.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>default &lt;R0&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/WindowAggregateBuilder.html" title="class in com.hazelcast.jet.pipeline">WindowAggregateBuilder</a>&lt;R0&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html#aggregateBuilder-com.hazelcast.jet.aggregate.AggregateOperation1-">aggregateBuilder</a></span>(<a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,?,? extends R0&gt;&nbsp;aggrOp)</code>
<div class="block">Offers a step-by-step API to build a pipeline stage that co-aggregates
 the data from several input stages.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>default <a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/WindowResult.html" title="class in com.hazelcast.jet.datamodel">WindowResult</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html#distinct--">distinct</a></span>()</code>
<div class="block">Attaches a stage that passes through just the items that are distinct
 within their window (no two items emitted for a window are equal).</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>&lt;K&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/StageWithKeyAndWindow.html" title="interface in com.hazelcast.jet.pipeline">StageWithKeyAndWindow</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,K&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html#groupingKey-com.hazelcast.jet.function.FunctionEx-">groupingKey</a></span>(<a href="../../../../com/hazelcast/jet/function/FunctionEx.html" title="interface in com.hazelcast.jet.function">FunctionEx</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,? extends K&gt;&nbsp;keyFn)</code>
<div class="block">Specifies the function that will extract the grouping key from the
 items in the associated pipeline stage and moves on to the step in
 which you'll complete the construction of a windowed group-and-aggregate
 stage.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html#streamStage--">streamStage</a></span>()</code>
<div class="block">Returns the pipeline stage associated with this object.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../com/hazelcast/jet/pipeline/WindowDefinition.html" title="class in com.hazelcast.jet.pipeline">WindowDefinition</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html#windowDefinition--">windowDefinition</a></span>()</code>
<div class="block">Returns the definition of the window for the windowed aggregation
 operation that you are about to construct using this object.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="streamStage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>streamStage</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
<a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>&gt;&nbsp;streamStage()</pre>
<div class="block">Returns the pipeline stage associated with this object. It is the stage
 to which you are about to attach an aggregating stage.</div>
</li>
</ul>
<a name="windowDefinition--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>windowDefinition</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
<a href="../../../../com/hazelcast/jet/pipeline/WindowDefinition.html" title="class in com.hazelcast.jet.pipeline">WindowDefinition</a>&nbsp;windowDefinition()</pre>
<div class="block">Returns the definition of the window for the windowed aggregation
 operation that you are about to construct using this object.</div>
</li>
</ul>
<a name="groupingKey-com.hazelcast.jet.function.FunctionEx-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>groupingKey</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
&lt;K&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/StageWithKeyAndWindow.html" title="interface in com.hazelcast.jet.pipeline">StageWithKeyAndWindow</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,K&gt;&nbsp;groupingKey(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                    <a href="../../../../com/hazelcast/jet/function/FunctionEx.html" title="interface in com.hazelcast.jet.function">FunctionEx</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,? extends K&gt;&nbsp;keyFn)</pre>
<div class="block">Specifies the function that will extract the grouping key from the
 items in the associated pipeline stage and moves on to the step in
 which you'll complete the construction of a windowed group-and-aggregate
 stage.
 <p>
 <b>Note:</b> make sure the extracted key is not-null, it would fail the
 job otherwise. Also make sure that it implements <code>equals()</code> and
 <code>hashCode()</code>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - type of the key</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyFn</code> - function that extracts the grouping key</dd>
</dl>
</li>
</ul>
<a name="distinct--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>distinct</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
default&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/WindowResult.html" title="class in com.hazelcast.jet.datamodel">WindowResult</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>&gt;&gt;&nbsp;distinct()</pre>
<div class="block">Attaches a stage that passes through just the items that are distinct
 within their window (no two items emitted for a window are equal). There
 is no guarantee which one of the items with the same key will pass
 through. The stage emits results in the form of <a href="../../../../com/hazelcast/jet/datamodel/WindowResult.html" title="class in com.hazelcast.jet.datamodel"><code>WindowResult(windowEnd, distinctItem)</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly attached stage</dd>
</dl>
</li>
</ul>
<a name="aggregate-com.hazelcast.jet.aggregate.AggregateOperation1-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>aggregate</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
&lt;R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/WindowResult.html" title="class in com.hazelcast.jet.datamodel">WindowResult</a>&lt;R&gt;&gt;&nbsp;aggregate(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                    <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,?,? extends R&gt;&nbsp;aggrOp)</pre>
<div class="block">Attaches a stage that performs the given aggregate operation over all
 the items that belong to a given window. Once the window is complete, it
 emits a <code>WindowResult</code> with the result of the aggregate
 operation and the timestamp denoting the window's ending time.
 <p>
 Sample usage:
 <pre><code>
 StreamStage&lt;WindowResult&lt;Long&gt;&gt; aggregated = pageVisits
     .window(SlidingWindowDefinition.sliding(MINUTES.toMillis(1), SECONDS.toMillis(1)))
     .aggregate(AggregateOperations.counting());
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - the type of the result</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aggrOp</code> - the aggregate operation to perform</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/hazelcast/jet/aggregate/AggregateOperations.html" title="class in com.hazelcast.jet.aggregate"><code>AggregateOperations</code></a></dd>
</dl>
</li>
</ul>
<a name="aggregate2-com.hazelcast.jet.pipeline.StreamStage-com.hazelcast.jet.aggregate.AggregateOperation2-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>aggregate2</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
&lt;T1,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/WindowResult.html" title="class in com.hazelcast.jet.datamodel">WindowResult</a>&lt;R&gt;&gt;&nbsp;aggregate2(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                        <a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;T1&gt;&nbsp;stage1,
                                                        <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                        <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation2.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation2</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,? super T1,?,? extends R&gt;&nbsp;aggrOp)</pre>
<div class="block">Attaches a stage that performs the given aggregate operation over all
 the items that belong to the same window. It receives the items from
 both this stage and <code>stage1</code>. Once a given window is complete, it
 invokes <code>mapToOutputFn</code> with the result of the aggregate
 operation and emits its return value as the window result.
 <p>
 Sample usage:
 <pre><code>
 StreamStage&lt;WindowResult&lt;Tuple2&lt;Long, Long&gt;&gt;&gt; aggregated = pageVisits
     .window(SlidingWindowDefinition.sliding(MINUTES.toMillis(1), SECONDS.toMillis(1)))
     .aggregate2(
         addToCarts,
         AggregateOperations.aggregateOperation2(
             AggregateOperations.counting(),
             AggregateOperations.counting())
     );
 </code></pre>
 This variant requires you to provide a two-input aggregate operation
 (refer to its <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation2.html" title="interface in com.hazelcast.jet.aggregate">Javadoc</a> for a simple
 example). If you can express your logic in terms of two single-input
 aggregate operations, one for each input stream, then you should use
 <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html#aggregate2-com.hazelcast.jet.aggregate.AggregateOperation1-com.hazelcast.jet.pipeline.StreamStage-com.hazelcast.jet.aggregate.AggregateOperation1-"><code>stage0.aggregate2(aggrOp0, stage1, aggrOp1)</code></a> because it offers a simpler
 API and you can use the already defined single-input operations. Use
 this variant only when you have the need to implement an aggregate
 operation that combines the input streams into the same accumulator.
 <p>
 The aggregating stage emits a single item for each completed window.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T1</code> - type of items in <code>stage1</code></dd>
<dd><code>R</code> - type of the aggregation result</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aggrOp</code> - the aggregate operation to perform</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/hazelcast/jet/aggregate/AggregateOperations.html" title="class in com.hazelcast.jet.aggregate"><code>AggregateOperations</code></a></dd>
</dl>
</li>
</ul>
<a name="aggregate2-com.hazelcast.jet.aggregate.AggregateOperation1-com.hazelcast.jet.pipeline.StreamStage-com.hazelcast.jet.aggregate.AggregateOperation1-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>aggregate2</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
default&nbsp;&lt;T1,R0,R1&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/WindowResult.html" title="class in com.hazelcast.jet.datamodel">WindowResult</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/Tuple2.html" title="class in com.hazelcast.jet.datamodel">Tuple2</a>&lt;R0,R1&gt;&gt;&gt;&nbsp;aggregate2(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                                                <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,?,? extends R0&gt;&nbsp;aggrOp0,
                                                                                <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                                                <a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;T1&gt;&nbsp;stage1,
                                                                                <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                                                <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super T1,?,? extends R1&gt;&nbsp;aggrOp1)</pre>
<div class="block">Attaches a stage that performs the given co-aggregate operations over
 the items from this stage and <code>stage1</code> you supply. It performs
 the aggregation separately for each input stage: <code>aggrOp0</code> on this
 stage and <code>aggrOp1</code> on <code>stage1</code>. Once it has received all
 the items belonging to a window, it emits a <code>WindowResult(Tuple2(result0, result1))</code>.
 <p>
 The aggregating stage emits a single item for each completed window.
 <p>
 Sample usage:
 <pre><code>
 StreamStage&lt;WindowResult&lt;Tuple2&lt;Long, Long&gt;&gt;&gt; aggregated = pageVisits
     .window(SlidingWindowDefinition.sliding(MINUTES.toMillis(1), SECONDS.toMillis(1)))
     .aggregate2(
         AggregateOperations.counting(),
         addToCarts,
         AggregateOperations.counting()
     );
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T1</code> - type of the items in the other stage</dd>
<dd><code>R0</code> - type of the aggregated result for this stage</dd>
<dd><code>R1</code> - type of the aggregated result for the other stage</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aggrOp0</code> - aggregate operation to perform on this stage</dd>
<dd><code>stage1</code> - the other stage</dd>
<dd><code>aggrOp1</code> - aggregate operation to perform on the other stage</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/hazelcast/jet/aggregate/AggregateOperations.html" title="class in com.hazelcast.jet.aggregate"><code>AggregateOperations</code></a></dd>
</dl>
</li>
</ul>
<a name="aggregate3-com.hazelcast.jet.pipeline.StreamStage-com.hazelcast.jet.pipeline.StreamStage-com.hazelcast.jet.aggregate.AggregateOperation3-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>aggregate3</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
&lt;T1,T2,R&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/WindowResult.html" title="class in com.hazelcast.jet.datamodel">WindowResult</a>&lt;R&gt;&gt;&nbsp;aggregate3(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                           <a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;T1&gt;&nbsp;stage1,
                                                           <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                           <a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;T2&gt;&nbsp;stage2,
                                                           <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                           <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation3.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation3</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,? super T1,? super T2,?,? extends R&gt;&nbsp;aggrOp)</pre>
<div class="block">Attaches a stage that performs the given aggregate operation over the
 items it receives from this stage as well as <code>stage1</code> and <code>stage2</code> you supply. Once a given window is complete, it emits a <a href="../../../../com/hazelcast/jet/datamodel/WindowResult.html" title="class in com.hazelcast.jet.datamodel"><code>WindowResult</code></a> with the result of the aggregate operation and the
 timestamp denoting the window's ending time.
 <p>
 Sample usage:
 <pre><code>
 StreamStage&lt;WindowResult&lt;Tuple3&lt;Long, Long, Long&gt;&gt;&gt; aggregated = pageVisits
     .window(SlidingWindowDefinition.sliding(MINUTES.toMillis(1), SECONDS.toMillis(1)))
     .aggregate3(
         addToCarts,
         payments,
         AggregateOperations.aggregateOperation3(
             AggregateOperations.counting(),
             AggregateOperations.counting(),
             AggregateOperations.counting())
     );
 </code></pre>
 This variant requires you to provide a three-input aggregate operation
 (refer to its <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation3.html" title="interface in com.hazelcast.jet.aggregate">Javadoc</a> for a simple
 example). If you can express your logic in terms of three single-input
 aggregate operations, one for each input stream, then you should use
 <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html#aggregate3-com.hazelcast.jet.aggregate.AggregateOperation1-com.hazelcast.jet.pipeline.StreamStage-com.hazelcast.jet.aggregate.AggregateOperation1-com.hazelcast.jet.pipeline.StreamStage-com.hazelcast.jet.aggregate.AggregateOperation1-"><code>stage0.aggregate2(aggrOp0, stage1, aggrOp1, stage2, aggrOp2)</code></a> because it
 offers a simpler API and you can use the already defined single-input
 operations. Use this variant only when you have the need to implement an
 aggregate operation that combines the input streams into the same
 accumulator.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T1</code> - type of items in <code>stage1</code></dd>
<dd><code>T2</code> - type of items in <code>stage2</code></dd>
<dd><code>R</code> - type of the result</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stage1</code> - the first additional stage</dd>
<dd><code>stage2</code> - the second additional stage</dd>
<dd><code>aggrOp</code> - the aggregate operation to perform</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/hazelcast/jet/aggregate/AggregateOperations.html" title="class in com.hazelcast.jet.aggregate"><code>AggregateOperations</code></a></dd>
</dl>
</li>
</ul>
<a name="aggregate3-com.hazelcast.jet.aggregate.AggregateOperation1-com.hazelcast.jet.pipeline.StreamStage-com.hazelcast.jet.aggregate.AggregateOperation1-com.hazelcast.jet.pipeline.StreamStage-com.hazelcast.jet.aggregate.AggregateOperation1-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>aggregate3</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
default&nbsp;&lt;T1,T2,R0,R1,R2&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/WindowResult.html" title="class in com.hazelcast.jet.datamodel">WindowResult</a>&lt;<a href="../../../../com/hazelcast/jet/datamodel/Tuple3.html" title="class in com.hazelcast.jet.datamodel">Tuple3</a>&lt;R0,R1,R2&gt;&gt;&gt;&nbsp;aggregate3(<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                                                         <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,?,? extends R0&gt;&nbsp;aggrOp0,
                                                                                         <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                                                         <a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;T1&gt;&nbsp;stage1,
                                                                                         <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                                                         <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super T1,?,? extends R1&gt;&nbsp;aggrOp1,
                                                                                         <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                                                         <a href="../../../../com/hazelcast/jet/pipeline/StreamStage.html" title="interface in com.hazelcast.jet.pipeline">StreamStage</a>&lt;T2&gt;&nbsp;stage2,
                                                                                         <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                                                                         <a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super T2,?,? extends R2&gt;&nbsp;aggrOp2)</pre>
<div class="block">Attaches a stage that performs the given aggregate operation over all
 the items that belong to the same window. It receives the items from
 both this stage and <code>stage1</code>. It performs the aggregation
 separately for each input stage: <code>aggrOp0</code> on this stage, <code>aggrOp1</code> on <code>stage1</code> and <code>aggrOp2</code> on <code>stage2</code>. Once
 it has received all the items belonging to a window, it emits a <code>WindowResult(Tuple3(result0, result1, result2))</code>.
 <p>
 The aggregating stage emits a single item for each completed window.
 <p>
 Sample usage:
 <pre><code>
 StreamStage&lt;WindowResult&lt;Tuple3&lt;Long, Long, Long&gt;&gt;&gt; aggregated = pageVisits
     .window(SlidingWindowDefinition.sliding(MINUTES.toMillis(1), SECONDS.toMillis(1)))
     .aggregate3(
         AggregateOperations.counting(),
         addToCarts,
         AggregateOperations.counting(),
         payments,
         AggregateOperations.counting()
     );
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T1</code> - type of items in <code>stage1</code></dd>
<dd><code>T2</code> - type of items in <code>stage2</code></dd>
<dd><code>R0</code> - type of the result from stream-0</dd>
<dd><code>R1</code> - type of the result from stream-1</dd>
<dd><code>R2</code> - type of the result from stream-2</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aggrOp0</code> - aggregate operation to perform on this stage</dd>
<dd><code>stage1</code> - the first additional stage</dd>
<dd><code>aggrOp1</code> - aggregate operation to perform on <code>stage1</code></dd>
<dd><code>stage2</code> - the second additional stage</dd>
<dd><code>aggrOp2</code> - aggregate operation to perform on <code>stage2</code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/hazelcast/jet/aggregate/AggregateOperations.html" title="class in com.hazelcast.jet.aggregate"><code>AggregateOperations</code></a></dd>
</dl>
</li>
</ul>
<a name="aggregateBuilder-com.hazelcast.jet.aggregate.AggregateOperation1-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>aggregateBuilder</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
default&nbsp;&lt;R0&gt;&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/WindowAggregateBuilder.html" title="class in com.hazelcast.jet.pipeline">WindowAggregateBuilder</a>&lt;R0&gt;&nbsp;aggregateBuilder(<a href="../../../../com/hazelcast/jet/aggregate/AggregateOperation1.html" title="interface in com.hazelcast.jet.aggregate">AggregateOperation1</a>&lt;? super <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>,?,? extends R0&gt;&nbsp;aggrOp)</pre>
<div class="block">Offers a step-by-step API to build a pipeline stage that co-aggregates
 the data from several input stages. The current stage will be already
 registered with the builder you get. You supply an aggregate operation
 for each input stage and in the output you get the individual
 aggregation results in a <code>WindowResult(windowEnd, itemsByTag)</code>.
 Use the tag you get from <a href="../../../../com/hazelcast/jet/pipeline/AggregateBuilder.html#add-com.hazelcast.jet.pipeline.BatchStage-com.hazelcast.jet.aggregate.AggregateOperation1-"><code>builder.add(stageN,
 aggrOpN)</code></a> to retrieve the aggregated result for that stage. Use <a href="../../../../com/hazelcast/jet/pipeline/AggregateBuilder.html#tag0--"><code>builder.tag0()</code></a> as the tag of this stage. You
 will also be able to supply a function to the builder that immediately
 transforms the results to the desired output type.
 <p>
 This builder is mainly intended to build a co-aggregation of four or
 more contributing stages. For up to three stages, prefer the direct
 <code>stage.aggregateN(...)</code> calls because they offer more static type
 safety.
 <p>
 This example defines a 1-second sliding window and counts the items in
 stage-0, sums those in stage-1 and takes the average of those in
 stage-2:
 <pre><code>
 Pipeline p = Pipeline.create();
 StreamStage&lt;Long&gt; stage0 = p.drawFrom(source0).withNativeTimestamps(0L);;
 StreamStage&lt;Long&gt; stage1 = p.drawFrom(source1).withNativeTimestamps(0L);;
 StreamStage&lt;Long&gt; stage2 = p.drawFrom(source2).withNativeTimestamps(0L);;
 WindowAggregateBuilder&lt;Long&gt; b = stage0
         .window(sliding(1000, 10))
         .aggregateBuilder(AggregateOperations.counting());
 Tag&lt;Long&gt; tag0 = b.tag0();
 Tag&lt;Long&gt; tag1 = b.add(stage1,
         AggregateOperations.summingLong(Long::longValue));
 Tag&lt;Double&gt; tag2 = b.add(stage2,
         AggregateOperations.averagingLong(Long::longValue));
 StreamStage&lt;WindowResult&lt;ItemsByTag&gt;&gt; aggregated = b.build();
 aggregated.map(e -&gt; String.format(
         "Timestamp %d, count of stage0: %d, sum of stage1: %d, average of stage2: %f",
         e.timestamp(), e.item().get(tag0), e.item().get(tag1), e.item().get(tag2))
 );
</code></pre></div>
</li>
</ul>
<a name="aggregateBuilder--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>aggregateBuilder</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
default&nbsp;<a href="../../../../com/hazelcast/jet/pipeline/WindowAggregateBuilder1.html" title="class in com.hazelcast.jet.pipeline">WindowAggregateBuilder1</a>&lt;<a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html" title="type parameter in StageWithWindow">T</a>&gt;&nbsp;aggregateBuilder()</pre>
<div class="block">Offers a step-by-step API to build a pipeline stage that co-aggregates
 the data from several input stages. The current stage will be already
 registered with the builder you get.
 <p>
 This builder requires you to provide a multi-input aggregate operation.
 If you can express your logic in terms of single-input aggregate
 operations, one for each input stream, then you should use <a href="../../../../com/hazelcast/jet/pipeline/StageWithWindow.html#aggregateBuilder-com.hazelcast.jet.aggregate.AggregateOperation1-"><code>stage0.aggregateBuilder(aggrOp0)</code></a>
 because it offers a simpler API. Use this builder only when you have the
 need to implement an aggregate operation that combines all the input
 streams into the same accumulator.
 <p>
 This builder is mainly intended to build a co-aggregation of four or
 more contributing stages. For up to three stages, prefer the direct
 <code>stage.aggregateN(...)</code> calls because they offer more static type
 safety.
 <p>
 To add the other stages, call <a href="../../../../com/hazelcast/jet/pipeline/WindowAggregateBuilder1.html#add-com.hazelcast.jet.pipeline.StreamStage-"><code>add(stage)</code></a>. Collect all the tags returned from <code>add()</code> and use
 them when building the aggregate operation. Retrieve the tag of the
 first stage (from which you obtained this builder) by calling <a href="../../../../com/hazelcast/jet/pipeline/WindowAggregateBuilder1.html#tag0--"><code>WindowAggregateBuilder1.tag0()</code></a>.
 <p>
 This example takes three streams of strings, specifies a 1-second
 sliding window and counts the distinct strings across all streams:
 <pre><code>
 Pipeline p = Pipeline.create();
 StreamStage&lt;String&gt; stage0 = p.drawFrom(source0).withNativeTimestamps(0L);;
 StreamStage&lt;String&gt; stage1 = p.drawFrom(source1).withNativeTimestamps(0L);;
 StreamStage&lt;String&gt; stage2 = p.drawFrom(source2).withNativeTimestamps(0L);;
 WindowAggregateBuilder1&lt;String&gt; b = stage0
         .window(sliding(1000, 10))
         .aggregateBuilder();
 Tag&lt;String&gt; tag0 = b.tag0();
 Tag&lt;String&gt; tag1 = b.add(stage1);
 Tag&lt;String&gt; tag2 = b.add(stage2);
 StreamStage&lt;WindowResult&lt;Integer&gt;&gt; aggregated = b.build(AggregateOperation
         .withCreate(HashSet&lt;String&gt;::new)
         .andAccumulate(tag0, (acc, item) -&gt; acc.add(item))
         .andAccumulate(tag1, (acc, item) -&gt; acc.add(item))
         .andAccumulate(tag2, (acc, item) -&gt; acc.add(item))
         .andCombine(HashSet::addAll)
         .andExportFinish(HashSet::size));
 </code></pre></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StageWithWindow.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/hazelcast/jet/pipeline/StageWithKeyAndWindow.html" title="interface in com.hazelcast.jet.pipeline"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/hazelcast/jet/pipeline/StreamHashJoinBuilder.html" title="class in com.hazelcast.jet.pipeline"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/hazelcast/jet/pipeline/StageWithWindow.html" target="_top">Frames</a></li>
<li><a href="StageWithWindow.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2020 <a href="http://www.hazelcast.com/">Hazelcast, Inc.</a>. All rights reserved.</small></p>
</body>
</html>
